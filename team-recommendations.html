<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¶”ì²œ íŒ€ ì¡°í•© - PocketChoice</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }
        
        /* Animated background pokeballs */
        .pokeball-bg {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
            opacity: 0.1;
            top: 0;
            left: 0;
        }
        
        .pokeball {
            position: absolute;
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 50%;
            animation: float 20s infinite ease-in-out;
        }
        
        .pokeball::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 5px;
            background: #333;
            transform: translateY(-50%);
        }
        
        .pokeball::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 15px;
            height: 15px;
            background: white;
            border: 3px solid #333;
            border-radius: 50%;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-50px) rotate(180deg); }
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .logo {
            max-width: 800px;
            width: 90%;
            margin: 0 auto 20px;
            display: block;
            filter: drop-shadow(0 10px 30px rgba(42, 117, 187, 0.4));
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        .back-btn {
            background: white;
            color: #667eea;
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-weight: 700;
            cursor: pointer;
            font-size: 16px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }
        
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.3);
        }
        
        .page-title {
            color: white;
            font-size: 48px;
            font-weight: 900;
            margin: 30px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .page-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 20px;
            margin-bottom: 40px;
        }
        
        /* Team Templates */
        .team-templates {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .team-template-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .team-template-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }
        
        .team-template-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .team-template-title {
            font-size: 24px;
            font-weight: 700;
            color: #333;
        }
        
        .team-template-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
        }
        
        .team-template-description {
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .team-pokemon-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .team-pokemon-item {
            text-align: center;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            transition: all 0.3s;
        }
        
        .team-pokemon-item:hover {
            background: #e9ecef;
            transform: scale(1.05);
        }
        
        .team-pokemon-item img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            margin-bottom: 8px;
        }
        
        .team-pokemon-item .name {
            font-size: 12px;
            font-weight: 700;
            color: #333;
        }
        
        .team-pokemon-item .types {
            display: flex;
            gap: 4px;
            justify-content: center;
            margin-top: 5px;
        }
        
        .type-badge {
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 9px;
            font-weight: 700;
            color: white;
            text-transform: uppercase;
        }
        
        .type-normal { background: #A8A878; }
        .type-fighting { background: #C03028; }
        .type-flying { background: #A890F0; }
        .type-poison { background: #A040A0; }
        .type-ground { background: #E0C068; }
        .type-rock { background: #B8A038; }
        .type-bug { background: #A8B820; }
        .type-ghost { background: #705898; }
        .type-steel { background: #B8B8D0; }
        .type-fire { background: #F08030; }
        .type-water { background: #6890F0; }
        .type-grass { background: #78C850; }
        .type-electric { background: #F8D030; }
        .type-psychic { background: #F85888; }
        .type-ice { background: #98D8D8; }
        .type-dragon { background: #7038F8; }
        .type-dark { background: #705848; }
        .type-fairy { background: #EE99AC; }
        
        .use-team-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .use-team-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
        
        /* ë­í‚¹ ëª©ë¡ ìŠ¤íƒ€ì¼ */
        .ranking-list {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .ranking-item {
            display: flex;
            align-items: center;
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .ranking-item:last-child {
            border-bottom: none;
        }
        
        .ranking-item:hover {
            background: #f8f9fa;
            transform: translateX(5px);
        }
        
        .ranking-number {
            font-size: 32px;
            font-weight: 900;
            color: #667eea;
            min-width: 60px;
            text-align: center;
            margin-right: 20px;
        }
        
        .ranking-pokemon-list {
            display: flex;
            gap: 15px;
            flex: 1;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .ranking-pokemon-item {
            text-align: center;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 10px;
            min-width: 80px;
            transition: all 0.3s;
        }
        
        .ranking-pokemon-item:hover {
            background: #e9ecef;
            transform: scale(1.1);
        }
        
        .ranking-pokemon-item img {
            width: 60px;
            height: 60px;
            object-fit: contain;
            margin-bottom: 5px;
        }
        
        .ranking-pokemon-item .name {
            font-size: 11px;
            font-weight: 700;
            color: #333;
        }
        
        .ranking-pokemon-item .types {
            display: flex;
            gap: 3px;
            justify-content: center;
            margin-top: 3px;
        }
        
        .ranking-pokemon-item .type-badge {
            font-size: 8px;
            padding: 2px 6px;
        }
        
        .ranking-use-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
            margin-left: 20px;
        }
        
        .ranking-use-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .loading {
            text-align: center;
            padding: 50px;
            color: white;
            font-size: 24px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .page-title {
                font-size: 32px;
            }
            
            .team-templates {
                grid-template-columns: 1fr;
            }
            
            .team-pokemon-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .ranking-item {
                flex-direction: column;
                align-items: flex-start;
                padding: 15px;
            }
            
            .ranking-number {
                margin-bottom: 10px;
                margin-right: 0;
            }
            
            .ranking-pokemon-list {
                width: 100%;
                margin-bottom: 15px;
            }
            
            .ranking-use-btn {
                width: 100%;
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Animated background pokeballs -->
    <div class="pokeball-bg">
        <div class="pokeball" style="left: 10%; top: 20%; animation-delay: 0s;"></div>
        <div class="pokeball" style="left: 80%; top: 30%; animation-delay: 2s;"></div>
        <div class="pokeball" style="left: 50%; top: 60%; animation-delay: 4s;"></div>
        <div class="pokeball" style="left: 20%; top: 70%; animation-delay: 6s;"></div>
        <div class="pokeball" style="left: 90%; top: 80%; animation-delay: 8s;"></div>
    </div>
    
    <div class="container">
        <div class="header">
            <img src="mainbanner.png" alt="PocketChoice" class="logo" />
            <a href="pocketchoice-homepage.html" class="back-btn">â† í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
            <h1 class="page-title">ğŸ¯ ì¶”ì²œ íŒ€ ì¡°í•©</h1>
            <p class="page-subtitle">ê²€ì¦ëœ ì¸ê¸° íŒ€ í…œí”Œë¦¿ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì‹œì‘í•˜ì„¸ìš”!</p>
        </div>
        
        <div id="team-templates-container" class="team-templates">
            <div class="loading">ë°ì´í„° ë¡œë”© ì¤‘...</div>
        </div>
        
        <!-- ì‹¤ì œ ë­í‚¹ ì¡°í•© ì„¹ì…˜ -->
        <div style="margin-top: 60px;">
            <h2 style="color: white; font-size: 36px; font-weight: 900; text-align: center; margin-bottom: 30px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);">
                ğŸ“Š ì‹¤ì œ ë­í‚¹ ì¸ê¸° ì¡°í•© TOP 10
            </h2>
            <p style="color: rgba(255, 255, 255, 0.9); font-size: 18px; text-align: center; margin-bottom: 40px;">
                í˜„ì¬ ì‹œì¦Œì—ì„œ ì‹¤ì œë¡œ ë§ì´ ì‚¬ìš©ëœ í¬ì¼“ëª¬ ì¡°í•©ì…ë‹ˆë‹¤
            </p>
            <div id="ranking-teams-container" class="ranking-list">
                <div class="loading">ë­í‚¹ ë°ì´í„° ë¡œë”© ì¤‘...</div>
            </div>
        </div>
    </div>

    <script>
        // Type colors mapping
        const TYPE_COLORS = {
            'Normal': 'type-normal', 'Fighting': 'type-fighting', 'Flying': 'type-flying',
            'Poison': 'type-poison', 'Ground': 'type-ground', 'Rock': 'type-rock',
            'Bug': 'type-bug', 'Ghost': 'type-ghost', 'Steel': 'type-steel',
            'Fire': 'type-fire', 'Water': 'type-water', 'Grass': 'type-grass',
            'Electric': 'type-electric', 'Psychic': 'type-psychic', 'Ice': 'type-ice',
            'Dragon': 'type-dragon', 'Dark': 'type-dark', 'Fairy': 'type-fairy'
        };

        const TYPE_NAMES_KR = {
            'Normal': 'ë…¸ë§', 'Fighting': 'ê²©íˆ¬', 'Flying': 'ë¹„í–‰',
            'Poison': 'ë…', 'Ground': 'ë•…', 'Rock': 'ë°”ìœ„',
            'Bug': 'ë²Œë ˆ', 'Ghost': 'ê³ ìŠ¤íŠ¸', 'Steel': 'ê°•ì² ',
            'Fire': 'ë¶ˆê½ƒ', 'Water': 'ë¬¼', 'Grass': 'í’€',
            'Electric': 'ì „ê¸°', 'Psychic': 'ì—ìŠ¤í¼', 'Ice': 'ì–¼ìŒ',
            'Dragon': 'ë“œë˜ê³¤', 'Dark': 'ì•…', 'Fairy': 'í˜ì–´ë¦¬'
        };

        // ì¸ê¸° íŒ€ í…œí”Œë¦¿ ë°ì´í„°
        const teamTemplates = [
            {
                id: 'balanced',
                title: 'ë°¸ëŸ°ìŠ¤ íŒ€',
                badge: 'ì¶”ì²œ',
                description: 'ê³µê²©ê³¼ ë°©ì–´ê°€ ê· í˜•ì¡íŒ ë²”ìš© íŒ€ì…ë‹ˆë‹¤. ë‹¤ì–‘í•œ ìƒí™©ì— ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                pokemon: [
                    { num: 1008, name: 'í…Œë¼íŒŒê³ ìŠ¤', types: ['Normal', 'Ground'] },
                    { num: 898, name: 'ë¬´í•œë‹¤ì´ë…¸', types: ['Dragon', 'Ground'] },
                    { num: 1007, name: 'ì˜¤ê±°í°', types: ['Steel', 'Fighting'] },
                    { num: 1002, name: 'ì¹´ì´ë°ìŠ¤', types: ['Fire', 'Ghost'] },
                    { num: 987, name: 'ì˜¤ë¡±í„¸', types: ['Fairy', 'Psychic'] },
                    { num: 970, name: 'ê³ ë¡œì¹˜', types: ['Water', 'Fighting'] }
                ]
            },
            {
                id: 'offensive',
                title: 'ê³µê²©í˜• íŒ€',
                badge: 'ì¸ê¸°',
                description: 'ê°•ë ¥í•œ ê³µê²©ë ¥ìœ¼ë¡œ ë¹ ë¥´ê²Œ ìŠ¹ë¶€ë¥¼ ë‚´ëŠ” ê³µê²© ì¤‘ì‹¬ íŒ€ì…ë‹ˆë‹¤.',
                pokemon: [
                    { num: 1002, name: 'ì¹´ì´ë°ìŠ¤', types: ['Fire', 'Ghost'] },
                    { num: 1003, name: 'ë¬´í•œë‹¤ì´ë…¸', types: ['Dragon', 'Ground'] },
                    { num: 645, name: 'ëœë“œë¡œìŠ¤', types: ['Ground', 'Flying'] },
                    { num: 250, name: 'ì¹ ìƒ‰ì¡°', types: ['Fire', 'Flying'] },
                    { num: 382, name: 'ê°€ì´ì˜¤ê°€', types: ['Water'] },
                    { num: 149, name: 'ë§ë‚˜ë‡½', types: ['Dragon', 'Flying'] }
                ]
            },
            {
                id: 'defensive',
                title: 'ë°©ì–´í˜• íŒ€',
                badge: 'ì•ˆì •',
                description: 'ê²¬ê³ í•œ ë°©ì–´ë ¥ê³¼ íšŒë³µ ëŠ¥ë ¥ìœ¼ë¡œ ì¥ê¸°ì „ì— ìœ ë¦¬í•œ íŒ€ì…ë‹ˆë‹¤.',
                pokemon: [
                    { num: 1008, name: 'í…Œë¼íŒŒê³ ìŠ¤', types: ['Normal', 'Ground'] },
                    { num: 898, name: 'ë¬´í•œë‹¤ì´ë…¸', types: ['Dragon', 'Ground'] },
                    { num: 493, name: 'ì•„ë¥´ì„¸ìš°ìŠ¤', types: ['Normal'] },
                    { num: 472, name: 'ê¸€ë¼ì´ì˜¨', types: ['Ground', 'Flying'] },
                    { num: 778, name: 'ë”°ë¼í', types: ['Ghost', 'Fairy'] },
                    { num: 132, name: 'ë©”íƒ€ëª½', types: ['Normal'] }
                ]
            },
            {
                id: 'speed',
                title: 'ìŠ¤í”¼ë“œ íŒ€',
                badge: 'ë¹ ë¦„',
                description: 'ë¹ ë¥¸ ìŠ¤í”¼ë“œë¡œ ì„ ê³µê¶Œì„ ì¡ëŠ” ìŠ¤í”¼ë“œ ì¤‘ì‹¬ íŒ€ì…ë‹ˆë‹¤.',
                pokemon: [
                    { num: 1007, name: 'ì˜¤ê±°í°', types: ['Steel', 'Fighting'] },
                    { num: 888, name: 'ìì‹œì•ˆ', types: ['Fighting', 'Steel'] },
                    { num: 645, name: 'ëœë“œë¡œìŠ¤', types: ['Ground', 'Flying'] },
                    { num: 250, name: 'ì¹ ìƒ‰ì¡°', types: ['Fire', 'Flying'] },
                    { num: 149, name: 'ë§ë‚˜ë‡½', types: ['Dragon', 'Flying'] },
                    { num: 286, name: 'ë²„ì„¯ëª¨', types: ['Grass', 'Fighting'] }
                ]
            },
            {
                id: 'type-coverage',
                title: 'íƒ€ì… ì»¤ë²„ íŒ€',
                badge: 'ë‹¤ì–‘',
                description: 'ë‹¤ì–‘í•œ íƒ€ì…ì„ ì»¤ë²„í•˜ì—¬ ìƒì„±ì— ìœ ë¦¬í•œ íŒ€ì…ë‹ˆë‹¤.',
                pokemon: [
                    { num: 1008, name: 'í…Œë¼íŒŒê³ ìŠ¤', types: ['Normal', 'Ground'] },
                    { num: 987, name: 'ì˜¤ë¡±í„¸', types: ['Fairy', 'Psychic'] },
                    { num: 970, name: 'ê³ ë¡œì¹˜', types: ['Water', 'Fighting'] },
                    { num: 1002, name: 'ì¹´ì´ë°ìŠ¤', types: ['Fire', 'Ghost'] },
                    { num: 1003, name: 'ë¬´í•œë‹¤ì´ë…¸', types: ['Dragon', 'Ground'] },
                    { num: 1007, name: 'ì˜¤ê±°í°', types: ['Steel', 'Fighting'] }
                ]
            },
            {
                id: 'meta',
                title: 'ë©”íƒ€ íŒ€',
                badge: 'ìµœì‹ ',
                description: 'í˜„ì¬ ì‹œì¦Œì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ë©”íƒ€ í¬ì¼“ëª¬ìœ¼ë¡œ êµ¬ì„±ëœ íŒ€ì…ë‹ˆë‹¤.',
                pokemon: [
                    { num: 1008, name: 'í…Œë¼íŒŒê³ ìŠ¤', types: ['Normal', 'Ground'] },
                    { num: 898, name: 'ë¬´í•œë‹¤ì´ë…¸', types: ['Dragon', 'Ground'] },
                    { num: 1007, name: 'ì˜¤ê±°í°', types: ['Steel', 'Fighting'] },
                    { num: 1002, name: 'ì¹´ì´ë°ìŠ¤', types: ['Fire', 'Ghost'] },
                    { num: 987, name: 'ì˜¤ë¡±í„¸', types: ['Fairy', 'Psychic'] },
                    { num: 970, name: 'ê³ ë¡œì¹˜', types: ['Water', 'Fighting'] }
                ]
            }
        ];

        let pokemonList = [];

        // í¬ì¼“ëª¬ ë°ì´í„° ë¡œë“œ
        async function loadPokemonData() {
            try {
                const response = await fetch('data/pokemoem_pokedex.json');
                if (!response.ok) throw new Error('í¬ì¼“ëª¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                pokemonList = await response.json();
                renderTeamTemplates();
            } catch (error) {
                console.error('ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', error);
                document.getElementById('team-templates-container').innerHTML = 
                    '<div class="loading">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
            }
        }

        // í¬ì¼“ëª¬ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        function getPokemonInfo(num) {
            return pokemonList.find(p => p.num === num) || null;
        }

        // í¬ì¼“ëª¬ ì´ë¯¸ì§€ URL
        function getPokemonImageUrl(num) {
            return `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${num}.png`;
        }

        // íŒ€ í…œí”Œë¦¿ ë Œë”ë§
        function renderTeamTemplates() {
            const container = document.getElementById('team-templates-container');
            container.innerHTML = '';

            teamTemplates.forEach(template => {
                const card = document.createElement('div');
                card.className = 'team-template-card';
                
                let pokemonHTML = '';
                template.pokemon.forEach(pokemon => {
                    const pokemonInfo = getPokemonInfo(pokemon.num);
                    const name = pokemonInfo?.nameko || pokemonInfo?.name || pokemon.name;
                    const types = pokemonInfo?.types || pokemon.types;
                    
                    let typesHTML = '';
                    if (types && types.length > 0) {
                        typesHTML = types.map(type => 
                            `<span class="type-badge ${TYPE_COLORS[type]}">${TYPE_NAMES_KR[type] || type}</span>`
                        ).join('');
                    }
                    
                    pokemonHTML += `
                        <div class="team-pokemon-item">
                            <img src="${getPokemonImageUrl(pokemon.num)}" 
                                 alt="${name}" 
                                 onerror="this.src='https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.num}.png'">
                            <div class="name">${name}</div>
                            <div class="types">${typesHTML}</div>
                        </div>
                    `;
                });
                
                card.innerHTML = `
                    <div class="team-template-header">
                        <h3 class="team-template-title">${template.title}</h3>
                        <span class="team-template-badge">${template.badge}</span>
                    </div>
                    <p class="team-template-description">${template.description}</p>
                    <div class="team-pokemon-grid">
                        ${pokemonHTML}
                    </div>
                    <button class="use-team-btn" onclick="useTeam('${template.id}')">
                        ì´ íŒ€ ì‚¬ìš©í•˜ê¸°
                    </button>
                `;
                
                container.appendChild(card);
            });
        }

        // íŒ€ ì‚¬ìš©í•˜ê¸°
        function useTeam(templateId) {
            const template = teamTemplates.find(t => t.id === templateId);
            if (!template) return;

            // íŒ€ ë°ì´í„°ë¥¼ localStorageì— ì €ì¥í•˜ê³  íŒ€ ë¹Œë”ë¡œ ì´ë™
            const teamData = template.pokemon.map(p => {
                const pokemonInfo = getPokemonInfo(p.num);
                return pokemonInfo || { num: p.num, name: p.name, types: p.types };
            });

            // localStorageì— ì €ì¥
            localStorage.setItem('recommendedTeam', JSON.stringify(teamData));
            
            // íŒ€ ë¹Œë” í˜ì´ì§€ë¡œ ì´ë™
            window.location.href = 'team-builder.html';
        }

        let pokemonDetails = null;

        // í¬ì¼“ëª¬ ìƒì„¸ ì •ë³´ ë¡œë“œ
        async function loadPokemonDetails() {
            try {
                const response = await fetch('data/pokemoem_pokemon_details_sc.json');
                if (!response.ok) throw new Error('í¬ì¼“ëª¬ ìƒì„¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                const detailsJson = await response.json();
                pokemonDetails = detailsJson[0]?.data || null;
                renderRankingTeams();
            } catch (error) {
                console.error('ìƒì„¸ ì •ë³´ ë¡œë”© ì‹¤íŒ¨:', error);
            }
        }

        // ì‹¤ì œ ë­í‚¹ ì¡°í•© ë¶„ì„ ë° ë Œë”ë§
        function renderRankingTeams() {
            if (!pokemonDetails || !pokemonList || pokemonList.length === 0) {
                document.getElementById('ranking-teams-container').innerHTML = 
                    '<div class="loading">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
                return;
            }

            // ê° í¬ì¼“ëª¬ë³„ë¡œ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” í¬ì¼“ëª¬ ìˆ˜ì§‘
            const teamCombinations = [];
            
            // ìƒìœ„ ì¸ê¸° í¬ì¼“ëª¬ë“¤ì„ ê¸°ì¤€ìœ¼ë¡œ ì¡°í•© ìƒì„±
            const topPokemon = [1008, 898, 1007, 1002, 987, 970, 888, 645, 250, 382, 149, 493];
            
            topPokemon.forEach(mainPokemonId => {
                const pokemonKey = mainPokemonId.toString();
                const pokemonData = pokemonDetails[pokemonKey];
                
                if (pokemonData && pokemonData['0'] && pokemonData['0'].temoti && pokemonData['0'].temoti.pokemon) {
                    const partners = pokemonData['0'].temoti.pokemon.slice(0, 5); // ìƒìœ„ 5ê°œ íŒŒíŠ¸ë„ˆ
                    
                    if (partners.length >= 5) {
                        // ë©”ì¸ í¬ì¼“ëª¬ + íŒŒíŠ¸ë„ˆ 5ë§ˆë¦¬ë¡œ íŒ€ êµ¬ì„±
                        const team = [
                            { id: mainPokemonId, form: 0 },
                            ...partners
                        ];
                        
                        // íŒ€ì˜ ê³ ìœ ì„±ì„ ìœ„í•´ ì •ë ¬
                        const teamKey = team.map(p => `${p.id}-${p.form}`).sort().join(',');
                        
                        // ì¤‘ë³µ ì œê±°ë¥¼ ìœ„í•œ ì²´í¬
                        if (!teamCombinations.find(t => t.key === teamKey)) {
                            teamCombinations.push({
                                key: teamKey,
                                team: team,
                                mainPokemon: mainPokemonId,
                                usage: partners.length // íŒŒíŠ¸ë„ˆ ìˆ˜ë¥¼ ì‚¬ìš©ë¥ ë¡œ ê°„ì£¼
                            });
                        }
                    }
                }
            });

            // ì‚¬ìš©ë¥  ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ê³  TOP 10 ì„ íƒ
            teamCombinations.sort((a, b) => b.usage - a.usage);
            const top10Teams = teamCombinations.slice(0, 10);

            const container = document.getElementById('ranking-teams-container');
            container.innerHTML = '';

            if (top10Teams.length === 0) {
                container.innerHTML = '<div class="loading" style="color: #666;">ë­í‚¹ ì¡°í•© ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
                return;
            }

            top10Teams.forEach((teamData, index) => {
                const item = document.createElement('div');
                item.className = 'ranking-item';
                
                let pokemonHTML = '';
                teamData.team.slice(0, 6).forEach(pokemon => {
                    const pokemonInfo = getPokemonInfo(pokemon.id);
                    if (!pokemonInfo) return;
                    
                    const name = pokemonInfo.nameko || pokemonInfo.name;
                    const types = pokemonInfo.types || [];
                    
                    let typesHTML = '';
                    if (types && types.length > 0) {
                        typesHTML = types.map(type => 
                            `<span class="type-badge ${TYPE_COLORS[type]}">${TYPE_NAMES_KR[type] || type}</span>`
                        ).join('');
                    }
                    
                    pokemonHTML += `
                        <div class="ranking-pokemon-item">
                            <img src="${getPokemonImageUrl(pokemon.id)}" 
                                 alt="${name}" 
                                 onerror="this.src='https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png'">
                            <div class="name">${name}</div>
                            <div class="types">${typesHTML}</div>
                        </div>
                    `;
                });
                
                item.innerHTML = `
                    <div class="ranking-number">${index + 1}</div>
                    <div class="ranking-pokemon-list">
                        ${pokemonHTML}
                    </div>
                    <button class="ranking-use-btn" onclick="useRankingTeam(${index})">
                        ì‚¬ìš©í•˜ê¸°
                    </button>
                `;
                
                container.appendChild(item);
            });
        }

        // ë­í‚¹ íŒ€ ì‚¬ìš©í•˜ê¸°
        function useRankingTeam(index) {
            if (!pokemonDetails) return;
            
            const topPokemon = [1008, 898, 1007, 1002, 987, 970, 888, 645, 250, 382, 149, 493];
            const teamCombinations = [];
            
            topPokemon.forEach(mainPokemonId => {
                const pokemonKey = mainPokemonId.toString();
                const pokemonData = pokemonDetails[pokemonKey];
                
                if (pokemonData && pokemonData['0'] && pokemonData['0'].temoti && pokemonData['0'].temoti.pokemon) {
                    const partners = pokemonData['0'].temoti.pokemon.slice(0, 5);
                    
                    if (partners.length >= 5) {
                        const team = [
                            { id: mainPokemonId, form: 0 },
                            ...partners
                        ];
                        
                        const teamKey = team.map(p => `${p.id}-${p.form}`).sort().join(',');
                        
                        if (!teamCombinations.find(t => t.key === teamKey)) {
                            teamCombinations.push({
                                key: teamKey,
                                team: team,
                                mainPokemon: mainPokemonId,
                                usage: partners.length
                            });
                        }
                    }
                }
            });

            teamCombinations.sort((a, b) => b.usage - a.usage);
            const top10Teams = teamCombinations.slice(0, 10);
            
            if (index >= 0 && index < top10Teams.length) {
                const selectedTeam = top10Teams[index];
                const teamData = selectedTeam.team.slice(0, 6).map(p => {
                    const pokemonInfo = getPokemonInfo(p.id);
                    return pokemonInfo || { num: p.id, name: `í¬ì¼“ëª¬ ${p.id}`, types: [] };
                });

                localStorage.setItem('recommendedTeam', JSON.stringify(teamData));
                window.location.href = 'team-builder.html';
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ë¡œë“œ
        loadPokemonData();
        loadPokemonDetails();
    </script>
</body>
</html>

