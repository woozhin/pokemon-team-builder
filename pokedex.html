<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ìè¨ÏºìÎ™¨ ÎèÑÍ∞ê - PocketChoice</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }
        
        /* Animated background pokeballs */
        .pokeball-bg {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
            opacity: 0.1;
            top: 0;
            left: 0;
        }
        
        .pokeball {
            position: absolute;
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 50%;
            animation: float 20s infinite ease-in-out;
        }
        
        .pokeball::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 5px;
            background: #333;
            transform: translateY(-50%);
        }
        
        .pokeball::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 15px;
            height: 15px;
            background: white;
            border: 3px solid #333;
            border-radius: 50%;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-50px) rotate(180deg); }
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo {
            max-width: 800px;
            width: 90%;
            margin: 0 auto 20px;
            display: block;
            filter: drop-shadow(0 10px 30px rgba(42, 117, 187, 0.4));
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        .header h1 {
            color: white;
            font-size: 36px;
            font-weight: 900;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .back-btn {
            background: white;
            color: #667eea;
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-weight: 700;
            cursor: pointer;
            font-size: 16px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            font-family: 'Noto Sans KR', sans-serif;
        }
        
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Search and Filter */
        .search-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .search-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 50px;
            font-size: 16px;
            font-family: 'Noto Sans KR', sans-serif;
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .favorite-filter {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .favorite-toggle {
            padding: 10px 20px;
            background: linear-gradient(135deg, #FF6B6B 0%, #FF5252 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
        }
        
        .favorite-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }
        
        .favorite-toggle.active {
            background: linear-gradient(135deg, #4ECDC4 0%, #44A08D 100%);
        }
        
        .result-count {
            color: #666;
            font-size: 14px;
            margin-top: 10px;
        }
        
        /* Pokemon Grid */
        .pokemon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .pokemon-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        .pokemon-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .pokemon-card.favorite {
            border: 3px solid #FF6B6B;
        }
        
        .favorite-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .favorite-icon:hover {
            transform: scale(1.2);
        }
        
        .pokemon-image {
            width: 120px;
            height: 120px;
            object-fit: contain;
            margin-bottom: 10px;
        }
        
        .pokemon-number {
            color: #999;
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .pokemon-name {
            font-size: 18px;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }
        
        .pokemon-types {
            display: flex;
            gap: 5px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .type-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            color: white;
        }
        
        /* Type Colors */
        .type-normal { background: #A8A878; }
        .type-fighting { background: #C03028; }
        .type-flying { background: #A890F0; }
        .type-poison { background: #A040A0; }
        .type-ground { background: #E0C068; }
        .type-rock { background: #B8A038; }
        .type-bug { background: #A8B820; }
        .type-ghost { background: #705898; }
        .type-steel { background: #B8B8D0; }
        .type-fire { background: #F08030; }
        .type-water { background: #6890F0; }
        .type-grass { background: #78C850; }
        .type-electric { background: #F8D030; }
        .type-psychic { background: #F85888; }
        .type-ice { background: #98D8D8; }
        .type-dragon { background: #7038F8; }
        .type-dark { background: #705848; }
        .type-fairy { background: #EE99AC; }
        
        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .pagination button {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
            color: #333;
        }
        
        .pagination button:hover:not(:disabled) {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .pagination button.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
        }
        
        .modal-content {
            background: white;
            border-radius: 30px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 40px;
            cursor: pointer;
            color: #999;
            transition: color 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-close:hover {
            color: #333;
        }
        
        .pokemon-detail {
            text-align: center;
        }
        
        .pokemon-detail img {
            width: 200px;
            height: 200px;
            object-fit: contain;
            margin-bottom: 20px;
        }
        
        .pokemon-detail h2 {
            font-size: 32px;
            color: #333;
            margin-bottom: 10px;
        }
        
        .stats-section {
            margin-top: 30px;
            text-align: left;
        }
        
        .stats-section h3 {
            font-size: 20px;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .stat-bar {
            margin-bottom: 15px;
        }
        
        .stat-bar-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 14px;
            font-weight: 700;
            color: #666;
        }
        
        .stat-bar-fill {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px;
            border-radius: 10px;
            text-align: center;
            font-weight: 700;
            transition: width 0.3s ease;
        }
        
        .description-section {
            margin-top: 30px;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 15px;
        }
        
        .description-section h3 {
            font-size: 20px;
            color: #333;
            margin-bottom: 15px;
        }
        
        .description-section p {
            color: #666;
            line-height: 1.6;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .pokemon-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 15px;
            }
            
            .search-box {
                flex-direction: column;
            }
            
            .modal-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Animated background -->
    <div class="pokeball-bg">
        <div class="pokeball" style="left: 10%; top: 20%; animation-delay: 0s;"></div>
        <div class="pokeball" style="left: 80%; top: 30%; animation-delay: 2s;"></div>
        <div class="pokeball" style="left: 50%; top: 60%; animation-delay: 4s;"></div>
        <div class="pokeball" style="left: 20%; top: 70%; animation-delay: 6s;"></div>
        <div class="pokeball" style="left: 90%; top: 80%; animation-delay: 8s;"></div>
    </div>

    <div class="container">
        <div class="header">
            <img src="mainbanner.png" alt="PocketChoice" class="logo">
            <a href="pocketchoice-homepage.html" class="back-btn">‚Üê ÌôàÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞</a>
            <h1>Ìè¨ÏºìÎ™¨ ÎèÑÍ∞ê</h1>
        </div>

        <div id="root"></div>
    </div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function Pokedex() {
            const [pokemonList, setPokemonList] = useState([]);
            const [filteredPokemon, setFilteredPokemon] = useState([]);
            const [searchTerm, setSearchTerm] = useState('');
            const [showFavoritesOnly, setShowFavoritesOnly] = useState(false);
            const [favorites, setFavorites] = useState([]);
            const [selectedPokemon, setSelectedPokemon] = useState(null);
            const [currentPage, setCurrentPage] = useState(1);
            const itemsPerPage = 30;

            // Ï¶êÍ≤®Ï∞æÍ∏∞ Î°úÎìú
            useEffect(() => {
                const savedFavorites = localStorage.getItem('pokedexFavorites');
                if (savedFavorites) {
                    setFavorites(JSON.parse(savedFavorites));
                }
            }, []);

            // Ï¶êÍ≤®Ï∞æÍ∏∞ Ï†ÄÏû•
            useEffect(() => {
                localStorage.setItem('pokedexFavorites', JSON.stringify(favorites));
            }, [favorites]);

            // Ìè¨ÏºìÎ™¨ Îç∞Ïù¥ÌÑ∞ Î°úÎìú
            useEffect(() => {
                const loadData = async () => {
                    try {
                        const res = await fetch('data/pokemoem_pokedex.json');
                        if (!res.ok) throw new Error('ÎèÑÍ∞ê ÌååÏùºÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§');
                        const data = await res.json();
                        
                        // Ïú†Ìö®Ìïú Îç∞Ïù¥ÌÑ∞Îßå ÌïÑÌÑ∞ÎßÅ: numÏù¥ ÏûàÍ≥†, Ïù¥Î¶ÑÏù¥ ÏûàÏúºÎ©∞, Í∏∞Î≥∏ ÌòïÌÉúÎßå
                        const validData = data.filter(p => {
                            // numÏù¥ ÏûàÏñ¥Ïïº Ìï®
                            if (!p.num) return false;
                            // nameko ÎòêÎäî nameÏù¥ ÏûàÏñ¥Ïïº Ìï®
                            if (!p.nameko && !p.name) return false;
                            // Í∏∞Î≥∏ ÌòïÌÉúÎßå (formeÏù¥ 0Ïù¥Í±∞ÎÇò null ÎòêÎäî undefined)
                            if (p.forme !== null && p.forme !== 0 && p.forme !== undefined) return false;
                            return true;
                        });
                        
                        // Í∞ôÏùÄ numÏùÑ Í∞ÄÏßÑ Ìè¨ÏºìÎ™¨ Ï§ëÎ≥µ Ï†úÍ±∞ (Ï≤´ Î≤àÏß∏ Í≤ÉÎßå ÏÑ†ÌÉù)
                        const uniqueMap = new Map();
                        validData.forEach(p => {
                            if (!uniqueMap.has(p.num)) {
                                uniqueMap.set(p.num, p);
                            }
                        });
                        
                        // Î≤àÌò∏ÏàúÏúºÎ°ú Ï†ïÎ†¨
                        const sortedData = Array.from(uniqueMap.values())
                            .sort((a, b) => a.num - b.num);
                        
                        setPokemonList(sortedData);
                        setFilteredPokemon(sortedData);
                    } catch (error) {
                        console.error('Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ïã§Ìå®:', error);
                        alert('Ìè¨ÏºìÎ™¨ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.');
                    }
                };
                loadData();
            }, []);

            // Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ÎßÅ
            useEffect(() => {
                let filtered = [...pokemonList];

                // Í≤ÄÏÉâÏñ¥ ÌïÑÌÑ∞
                if (searchTerm) {
                    const searchLower = searchTerm.toLowerCase();
                    filtered = filtered.filter(p => {
                        const name = (p.nameko || p.name || '').toLowerCase();
                        const num = p.num?.toString() || '';
                        // Ïù¥Î¶ÑÏù¥ÎÇò Î≤àÌò∏Í∞Ä Í≤ÄÏÉâÏñ¥Î•º Ìè¨Ìï®ÌïòÎäîÏßÄ ÌôïÏù∏
                        return (name && name.includes(searchLower)) || (num && num.includes(searchLower));
                    });
                }

                // Ï¶êÍ≤®Ï∞æÍ∏∞ ÌïÑÌÑ∞
                if (showFavoritesOnly) {
                    filtered = filtered.filter(p => favorites.includes(p.num));
                }

                setFilteredPokemon(filtered);
                setCurrentPage(1);
            }, [searchTerm, showFavoritesOnly, favorites, pokemonList]);

            // Ï¶êÍ≤®Ï∞æÍ∏∞ ÌÜ†Í∏Ä
            const toggleFavorite = (pokemonNum, e) => {
                e.stopPropagation();
                setFavorites(prev => {
                    if (prev.includes(pokemonNum)) {
                        return prev.filter(num => num !== pokemonNum);
                    } else {
                        return [...prev, pokemonNum];
                    }
                });
            };

            // Ìè¨ÏºìÎ™¨ Ïù¥ÎØ∏ÏßÄ URL
            const getPokemonImageUrl = (pokemon) => {
                if (!pokemon) return '';
                const num = pokemon.num;
                return `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${num}.png`;
            };

            // ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò
            const totalPages = Math.ceil(filteredPokemon.length / itemsPerPage);
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const paginatedPokemon = filteredPokemon.slice(startIndex, endIndex);

            // ÌÉÄÏûÖ ÏÉâÏÉÅ
            const TYPE_COLORS = {
                'Normal': 'type-normal', 'Fighting': 'type-fighting', 'Flying': 'type-flying',
                'Poison': 'type-poison', 'Ground': 'type-ground', 'Rock': 'type-rock',
                'Bug': 'type-bug', 'Ghost': 'type-ghost', 'Steel': 'type-steel',
                'Fire': 'type-fire', 'Water': 'type-water', 'Grass': 'type-grass',
                'Electric': 'type-electric', 'Psychic': 'type-psychic', 'Ice': 'type-ice',
                'Dragon': 'type-dragon', 'Dark': 'type-dark', 'Fairy': 'type-fairy'
            };

            const TYPE_NAMES_KR = {
                'Normal': 'ÎÖ∏Îßê', 'Fighting': 'Í≤©Ìà¨', 'Flying': 'ÎπÑÌñâ',
                'Poison': 'ÎèÖ', 'Ground': 'ÎïÖ', 'Rock': 'Î∞îÏúÑ',
                'Bug': 'Î≤åÎ†à', 'Ghost': 'Í≥†Ïä§Ìä∏', 'Steel': 'Í∞ïÏ≤†',
                'Fire': 'Î∂àÍΩÉ', 'Water': 'Î¨º', 'Grass': 'ÌíÄ',
                'Electric': 'Ï†ÑÍ∏∞', 'Psychic': 'ÏóêÏä§Ìçº', 'Ice': 'ÏñºÏùå',
                'Dragon': 'ÎìúÎûòÍ≥§', 'Dark': 'ÏïÖ', 'Fairy': 'ÌéòÏñ¥Î¶¨'
            };

            const STAT_NAMES = {
                'hp': 'HP',
                'atk': 'Í≥µÍ≤©',
                'def': 'Î∞©Ïñ¥',
                'spa': 'ÌäπÏàòÍ≥µÍ≤©',
                'spd': 'ÌäπÏàòÎ∞©Ïñ¥',
                'spe': 'Ïä§ÌîºÎìú'
            };

            return (
                <>
                    <div className="search-section">
                        <div className="search-box">
                            <input
                                type="text"
                                className="search-input"
                                placeholder="Ìè¨ÏºìÎ™¨ Ïù¥Î¶ÑÏù¥ÎÇò Î≤àÌò∏Î°ú Í≤ÄÏÉâ..."
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                            />
                            <button
                                className={`favorite-toggle ${showFavoritesOnly ? 'active' : ''}`}
                                onClick={() => setShowFavoritesOnly(!showFavoritesOnly)}
                            >
                                {showFavoritesOnly ? '‚≠ê Ï¶êÍ≤®Ï∞æÍ∏∞Îßå' : '‚≠ê Ï¶êÍ≤®Ï∞æÍ∏∞'}
                            </button>
                        </div>
                        <div className="result-count">
                            Ï¥ù {filteredPokemon.length}ÎßàÎ¶¨Ïùò Ìè¨ÏºìÎ™¨ÏùÑ Ï∞æÏïòÏäµÎãàÎã§.
                        </div>
                    </div>

                    <div className="pokemon-grid">
                        {paginatedPokemon.map(pokemon => (
                            <div
                                key={`${pokemon.num}-${pokemon.forme || 0}`}
                                className={`pokemon-card ${favorites.includes(pokemon.num) ? 'favorite' : ''}`}
                                onClick={() => setSelectedPokemon(pokemon)}
                            >
                                <span
                                    className="favorite-icon"
                                    onClick={(e) => toggleFavorite(pokemon.num, e)}
                                >
                                    {favorites.includes(pokemon.num) ? '‚≠ê' : '‚òÜ'}
                                </span>
                                <img
                                    src={getPokemonImageUrl(pokemon)}
                                    alt={pokemon.nameko || pokemon.name || `Ìè¨ÏºìÎ™¨ #${pokemon.num}`}
                                    className="pokemon-image"
                                    onError={(e) => {
                                        e.target.src = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.num}.png`;
                                    }}
                                />
                                <div className="pokemon-number">No. {pokemon.num}</div>
                                <div className="pokemon-name">{pokemon.nameko || pokemon.name || `Ìè¨ÏºìÎ™¨ #${pokemon.num}`}</div>
                                <div className="pokemon-types">
                                    {pokemon.types?.map(type => (
                                        <span key={type} className={`type-badge ${TYPE_COLORS[type]}`}>
                                            {TYPE_NAMES_KR[type] || type}
                                        </span>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>

                    {totalPages > 1 && (
                        <div className="pagination">
                            <button
                                onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}
                                disabled={currentPage === 1}
                            >
                                Ïù¥Ï†Ñ
                            </button>
                            {Array.from({ length: totalPages }, (_, i) => i + 1)
                                .filter(page => {
                                    // ÌòÑÏû¨ ÌéòÏù¥ÏßÄ Ï£ºÎ≥Ä 5ÌéòÏù¥ÏßÄÎßå ÌëúÏãú
                                    return page === 1 || page === totalPages || 
                                           (page >= currentPage - 2 && page <= currentPage + 2);
                                })
                                .map((page, index, array) => {
                                    // ÌéòÏù¥ÏßÄ Î≤àÌò∏ ÏÇ¨Ïù¥Ïóê ... Ï∂îÍ∞Ä
                                    const prevPage = array[index - 1];
                                    const showEllipsis = prevPage && page - prevPage > 1;
                                    return (
                                        <React.Fragment key={page}>
                                            {showEllipsis && <span>...</span>}
                                            <button
                                                className={currentPage === page ? 'active' : ''}
                                                onClick={() => setCurrentPage(page)}
                                            >
                                                {page}
                                            </button>
                                        </React.Fragment>
                                    );
                                })}
                            <button
                                onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}
                                disabled={currentPage === totalPages}
                            >
                                Îã§Ïùå
                            </button>
                        </div>
                    )}

                    {selectedPokemon && (
                        <PokemonDetailModal
                            pokemon={selectedPokemon}
                            onClose={() => setSelectedPokemon(null)}
                            favorites={favorites}
                            onToggleFavorite={toggleFavorite}
                            TYPE_COLORS={TYPE_COLORS}
                            TYPE_NAMES_KR={TYPE_NAMES_KR}
                            STAT_NAMES={STAT_NAMES}
                            getPokemonImageUrl={getPokemonImageUrl}
                        />
                    )}
                </>
            );
        }

        function PokemonDetailModal({ pokemon, onClose, favorites, onToggleFavorite, TYPE_COLORS, TYPE_NAMES_KR, STAT_NAMES, getPokemonImageUrl }) {
            return (
                <div className="modal" onClick={onClose}>
                    <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                        <button className="modal-close" onClick={onClose}>√ó</button>
                        
                        <div className="pokemon-detail">
                            <img 
                                src={getPokemonImageUrl(pokemon)} 
                                alt={pokemon.nameko || pokemon.name || `Ìè¨ÏºìÎ™¨ #${pokemon.num}`}
                                onError={(e) => {
                                    e.target.src = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.num}.png`;
                                }}
                            />
                            <h2>{pokemon.nameko || pokemon.name || `Ìè¨ÏºìÎ™¨ #${pokemon.num}`}</h2>
                            <p style={{color: '#999', marginBottom: '10px'}}>No. {pokemon.num}</p>
                            <div style={{marginBottom: '20px'}}>
                                <span
                                    style={{fontSize: '24px', cursor: 'pointer'}}
                                    onClick={(e) => onToggleFavorite(pokemon.num, e)}
                                >
                                    {favorites.includes(pokemon.num) ? '‚≠ê' : '‚òÜ'}
                                </span>
                            </div>
                            <div className="pokemon-types" style={{justifyContent: 'center', marginBottom: '20px'}}>
                                {pokemon.types?.map(type => (
                                    <span key={type} className={`type-badge ${TYPE_COLORS[type]}`}>
                                        {TYPE_NAMES_KR[type] || type}
                                    </span>
                                ))}
                            </div>

                            {pokemon.basestats && (
                                <div className="stats-section">
                                    <h3>üìä Í∏∞Î≥∏ Ï¢ÖÏ°±Í∞í</h3>
                                    {Object.entries(pokemon.basestats).map(([stat, value]) => (
                                        <div key={stat} className="stat-bar">
                                            <div className="stat-bar-label">
                                                <span>{STAT_NAMES[stat] || stat.toUpperCase()}</span>
                                                <span>{value}</span>
                                            </div>
                                            <div style={{background: '#e0e0e0', borderRadius: '10px'}}>
                                                <div 
                                                    className="stat-bar-fill" 
                                                    style={{width: `${Math.min(value / 255 * 100, 100)}%`}}
                                                >
                                                    {value}
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )}

                            <div className="description-section">
                                <h3>üìñ Ìè¨ÏºìÎ™¨ Ï†ïÎ≥¥</h3>
                                {pokemon.heightm && (
                                    <p><strong>ÌÇ§:</strong> {pokemon.heightm}m</p>
                                )}
                                {pokemon.weightkg && (
                                    <p><strong>Î™∏Î¨¥Í≤å:</strong> {pokemon.weightkg}kg</p>
                                )}
                                {pokemon.abilities && (
                                    <div style={{marginTop: '15px'}}>
                                        <p><strong>ÌäπÏÑ±:</strong></p>
                                        <ul style={{marginLeft: '20px', marginTop: '5px'}}>
                                            {Object.entries(pokemon.abilities).map(([key, ability]) => (
                                                <li key={key}>{ability} {key === 'H' ? '(Ïà®Í≤®ÏßÑ ÌäπÏÑ±)' : ''}</li>
                                            ))}
                                        </ul>
                                    </div>
                                )}
                                {pokemon.evos && pokemon.evos.length > 0 && (
                                    <div style={{marginTop: '15px'}}>
                                        <p><strong>ÏßÑÌôî:</strong> {pokemon.evos.join(', ')}</p>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<Pokedex />, document.getElementById('root'));
    </script>
</body>
</html>

